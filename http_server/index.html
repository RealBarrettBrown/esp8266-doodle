<!DOCTYPE html>
<html lang='en'>

<head>
  <meta charset='UTF-8' />
  <title>Magic comes from the stars</title>
  <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous"> -->
</head>

<body>
  <form action="">
    <input onclick="gpio_pin1(this)" type="checkbox" name="gpio" value="pin 1"> Pin 1
    <br>
    <input onclick="gpio_pin2(this)" type="checkbox" name="gpio" value="pin 2"> Pin 2
  </form>

  <script>
    function gpio_pin1(box) {
      console.log(box.checked);
      var url = "gpio?pin=1&state=" + box.checked * 1; // yeah whatever, it works
      console.log(url);
      var xhr = new XMLHttpRequest();
      xhr.open("POST", url, true);
      xhr.send();
    }

    function gpio_pin2(box) {
      console.log("pin 2");
    }
  </script>

</body>

</html>
